<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Араб әліппесі</title>

  <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #ffffff;
      --fg:#000000;
      --radius: 1rem;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      font-size: 16px;
      line-height: 1.4;
      background-color: var(--bg);
      color: var(--fg);
    }

    button {  
      cursor: pointer;
      background-color: var(--bg);
    }
    body {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    main {
      width: 100%;
      height: 50%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .card {
      width: 70%;
      height: 70%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      border-radius: var(--radius);
      overflow: hidden;
    }

    .arabicLetter {
      width: 100%;
      height: 100%;
      font-family: 'Amiri', serif;
      font-size: 5rem;
      border-radius: var(--radius);
    }

    .transcription {
      width: 100%;
      height: 100%;
      font-size: 2rem;
      border-radius: var(--radius);
    }

    .controls {
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
    }
    .shuffle {
      padding: 0.5rem;
      border-radius: var(--radius);
    }
    .previous, .next {
      padding: 0.5rem;
      font-size: 2rem;
      border-radius: var(--radius);
    }
    @media (min-width: 768px) {
      main {
        max-width: 700px;
      }
    }
  </style>
</head>
<body>
  <main>
    <section id="card" class="card">
      <button id="arabicLetter" class="arabicLetter">ا</button>
      <button id="transcription" class="transcription" hidden>әлиф</button>
    </section>

    <section class="controls">
      <button id="previous" class="previous" lang="ar" dir="rtl">←</button>
      <button id="shuffle" class="shuffle">араластыру</button>
      <button id="next" class="next">→</button>
    </section>

    <section id="counter" class="counter">1 / 28</section>
  </main>

  <script>
    const dict = {
      "ا": "әлиф","ب": "бә","ت": "тә","ث": "сә","ج": "жим","ح": "ха","خ": "хо",
      "د": "дәл","ذ": "зәл","ر": "ро","ز": "зәй","س": "син","ش": "шин","ص": "сод",
      "ض": "дод","ط": "то","ظ": "зо","ع": "айн","غ": "ғайн","ف": "фә","ق": "қоф",
      "ك": "кәф","ل": "ләм","م": "мим","ن": "нун","هـ": "һә","و": "уау","ي": "йа"
    };

    let cards = Object.entries(dict).map(([arabicLetter, transcription]) => ({ arabicLetter, transcription }));

    let i = 0;
    let showTranscription = false;

    const buttonArabicLetter = document.getElementById('arabicLetter');
    const buttonTranscription = document.getElementById('transcription');
    const buttonPrevious = document.getElementById('previous');
    const buttonNext = document.getElementById('next');
    const buttonShuffle = document.getElementById('shuffle');
    const sectionCounter = document.getElementById('counter');
    const sectionCard = document.getElementById('card');

    function render(){
      const { arabicLetter, transcription } = cards[i];
      buttonArabicLetter.textContent = arabicLetter;
      buttonTranscription.textContent = transcription;
      buttonArabicLetter.hidden = showTranscription;
      buttonTranscription.hidden = !showTranscription;
      sectionCounter.textContent = `${i+1} / ${cards.length}`;
    }
    function flip(){ showTranscription = !showTranscription; render(); }
    function next(){ i = (i + 1) % cards.length; showTranscription = false; render(); }
    function previous(){ i = (i - 1 + cards.length) % cards.length; showTranscription = false; render(); }
    function shuffle(){
      for (let j = cards.length - 1; j > 0; j--) {
        const k = Math.floor(Math.random() * (j + 1));
        [cards[j], cards[k]] = [cards[k], cards[j]];
      }
      i = 0; showTranscription = false; render();
    }

    sectionCard.addEventListener('click', flip);
    buttonNext.addEventListener('click', next);
    buttonPrevious.addEventListener('click', previous);
    buttonShuffle.addEventListener('click', shuffle);

    render();
  </script>
</body>
</html>
